document.addEventListener("DOMContentLoaded", (function () { if (document.getElementById("add-projects")) { let e = 1; document.getElementById("add-projects").addEventListener("click", (function () { let n = document.querySelector(".project-group").cloneNode(!0); n.querySelectorAll("input").forEach((function (n) { let o = n.getAttribute("name").replace("[0]", "[" + e + "]"); n.setAttribute("name", o) })), document.getElementById("mainGroupProject").appendChild(n), e++ })), document.getElementById("remove-projects").addEventListener("click", (function () { const n = document.querySelectorAll(".project-group"); n.length > 1 && (document.getElementById("mainGroupProject").removeChild(n[n.length - 1]), e--) })) } if (document.getElementById("add-users")) { let e = 1; document.getElementById("add-users").addEventListener("click", (function () { let n = document.querySelector(".user-group").cloneNode(!0); n.querySelectorAll("input").forEach((function (n) { let o = n.getAttribute("name").replace("[0]", "[" + e + "]"); n.setAttribute("name", o) })), document.getElementById("mainGroupUser").appendChild(n), e++ })), document.getElementById("remove-users").addEventListener("click", (function () { const n = document.querySelectorAll(".user-group"); n.length > 1 && (document.getElementById("mainGroupUser").removeChild(n[n.length - 1]), e--) })) } })), $(document).ready((function () { $.validator.addMethod("exactlength", (function (e, n, o) { return this.optional(n) || e.toString().length === parseInt(o) }), "شماره موبایل باید {0} رقم باشد"); let e = $(".step"), n = $("#prev-btn"), o = $("#next-btn"), t = $("#submit-btn"), d = $("form.forming"), l = $("#preloader-wrapper"), s = $("body"), a = $("#success"); d.on("submit", (function () { return !1 })); let c = 0; e.eq(c).addClass("d-block"), 0 == c && (n.addClass("d-none"), t.addClass("d-none"), o.addClass("d-inline-block")); const r = e => { $(".progress-bar").css("width", e + "%") }; e.each((function (e) { $(this).validate({ rules: { "Group.GroupPhone": { exactlength: 11 } }, messages: { "Group.GroupPhone": { exactlength: "شماره موبایل باید {0} رقم باشد" } }, errorPlacement: function (e, n) { e.appendTo(n.closest(".step")) } }) })), d.on("keydown", (function (e) { "Enter" === e.key && (e.preventDefault(), o.click()) })), o.on("click", (function () { e.eq(c); if (d.valid()) { c++; let l = c - 1; c > 0 && c <= 3 ? (n.removeClass("d-none").addClass("d-inline-block"), e.eq(c).removeClass("d-none").addClass("d-block"), e.eq(l).removeClass("d-block").addClass("d-none"), 3 == c && (t.removeClass("d-none").addClass("d-inline-block"), o.removeClass("d-inline-block").addClass("d-none"))) : c > 3 && d.off("submit").submit(), r(100 / 3 * c) } })), n.on("click", (function () { if (c > 0) { c--; let d = c + 1; n.addClass("d-none").addClass("d-inline-block"), e.eq(c).removeClass("d-none").addClass("d-block"), e.eq(d).removeClass("d-block").addClass("d-none"), c < 3 && (t.removeClass("d-inline-block").addClass("d-none"), o.removeClass("d-none").addClass("d-inline-block"), n.removeClass("d-none").addClass("d-inline-block")) } 0 == c && n.removeClass("d-inline-block").addClass("d-none"), r(100 / 3 * c) })), t.on("click", (function () { l.addClass("d-block"); var o; (o = 1e3, new Promise((e => setTimeout(e, o)))).then((() => { s.addClass("loaded") })).then((() => { e.eq(3).removeClass("d-block").addClass("d-none"), n.removeClass("d-inline-block").addClass("d-none"), t.removeClass("d-inline-block").addClass("d-none"), a.removeClass("d-none").addClass("d-block") })).then((() => { setTimeout((function () { d.off("submit").submit() }), 1500) })) })) })), $(".form-control-file").on("change", (function () { const e = (this.files[0].size / 1024 / 1024).toFixed(2); if (e > 100) { alert("فایل شما باید کمتر از 100 مگابایت باشد"); document.querySelector(".form-control-file").value = "" } else $("#file-error").html("<b />حجم فایل شما: " + e + " مگابایت") })); const e = document.querySelectorAll('input[type="checkbox"]'), n = document.querySelector(".mydisabled"); function o() { const o = Array.from(e).filter((e => e.checked)).map((e => e.value)); n.value = o.join(", ") } e.forEach((e => { e.addEventListener("change", o) }));